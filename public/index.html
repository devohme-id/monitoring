<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Status log.exe</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #status { font-weight: bold; font-size: 1.2em; }
  </style>
</head>
<body>
  <h1>Monitoring log.exe</h1>
  <p>Status: <span id="status">Memuat...</span></p>
  <p id="detail"></p>
  <button onclick="cekStatus()">Cek Sekarang</button>

  <script>
    async function cekStatus() {
      const res = await fetch('/api/status');
      const data = await res.json();

      const statusEl = document.getElementById('status');
      const detailEl = document.getElementById('detail');

      if (data.logExeRunning) {
        statusEl.textContent = 'Aktif ✅';
        detailEl.innerHTML = `
          PID: ${data.pid} <br>
          CPU: ${data.cpu?.toFixed(2) || '-'}% <br>
          Memory: ${Math.round((data.memory || 0) / 1024 / 1024)} MB
        `;
      } else {
        statusEl.textContent = 'Tidak Berjalan ❌';
        detailEl.textContent = '';
      }
    }

    cekStatus(); // Auto cek saat load
    setInterval(cekStatus, 10000); // Auto refresh tiap 10 detik
  </script>
</body>
</html>
